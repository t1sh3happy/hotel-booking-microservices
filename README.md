**Hotel Booking Platform** - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è 
–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –Ω–æ–º–µ—Ä–æ–≤ –≤ –æ—Ç–µ–ª—è—Ö, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot –∏ Spring Cloud.  

**üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏—Ö –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–µ–ª—è–º–∏ –∏ –Ω–æ–º–µ—Ä–∞–º–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–≤—É—Ö—à–∞–≥–æ–≤–∞—è   —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ —Å –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø—Ä–∏ —Å–±–æ—è—Ö.  

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:  

API Gateway (Port 8080) - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤  
Booking Service - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT)  
Hotel Service - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–µ–ª—è–º–∏ –∏ –Ω–æ–º–µ—Ä–∞–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏  
Eureka Server (Port 8761) - service discovery –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤  

**üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**  
Java 17+  
Spring Boot 3.x  
Spring Cloud (Gateway, Eureka, WebClient)  
Spring Security + JWT (TTL: 1 —á–∞—Å)  
Spring Data JPA  
H2 Database (in-memory)  
Swagger/OpenAPI 3.0  

**üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**  

hotel-booking-platform/
‚îú‚îÄ‚îÄ eureka-server/          # Service Discovery  
‚îú‚îÄ‚îÄ api-gateway/            # API Gateway  
‚îú‚îÄ‚îÄ booking-service/        # –°–µ—Ä–≤–∏—Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π  
‚îî‚îÄ‚îÄ hotel-service/          # –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–µ–ª—è–º–∏  
**‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫**  
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è  
JDK 17 –∏–ª–∏ –≤—ã—à–µ  

Maven 3.8+  

**–°–±–æ—Ä–∫–∞**  

mvn clean install
–ó–∞–ø—É—Å–∫ (–≤ —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ)

1. Eureka Server
cd eureka-server
mvn spring-boot:run
2. Hotel Service
cd hotel-service
mvn spring-boot:run
3. Booking Service
cd booking-service
mvn spring-boot:run
4. API Gateway
cd api-gateway
mvn spring-boot:run
–ü—Ä–æ–≤–µ—Ä–∫–∞: http://localhost:8080
Eureka Dashboard: http://localhost:8761
Swagger UI: http://localhost:8080/swagger-ui.html

**üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**  
–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã —Å TTL 1 —á–∞—Å. –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization: Bearer <token> –¥–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.  

**üìö API Endpoints**  
**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø—É–±–ª–∏—á–Ω—ã–µ)**  
POST /user/register - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  

POST /user/auth - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (USER/ADMIN)**
POST /bookings - —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
GET /bookings - —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
GET /booking/{id} - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
DELETE /booking/{id} - –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
GET /bookings/all - –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (ADMIN)

**–û—Ç–µ–ª–∏**
GET /hotels - —Å–ø–∏—Å–æ–∫ –æ—Ç–µ–ª–µ–π (USER/ADMIN)
POST /hotels - —Å–æ–∑–¥–∞—Ç—å –æ—Ç–µ–ª—å (ADMIN)
PUT /hotels/{id} - –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–µ–ª—å (ADMIN)
DELETE /hotels/{id} - —É–¥–∞–ª–∏—Ç—å –æ—Ç–µ–ª—å (ADMIN)

**–ù–æ–º–µ—Ä–∞**
GET /rooms/{id} - –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä (USER/ADMIN)
GET /rooms/recommend - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ (USER/ADMIN)
POST /rooms - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–º–µ—Ä (ADMIN)
PUT /rooms/{id} - –æ–±–Ω–æ–≤–∏—Ç—å –Ω–æ–º–µ—Ä (ADMIN)
DELETE /rooms/{id} - —É–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä (ADMIN)

**üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**  
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è  

curl -X POST http://localhost:8080/user/register \
  -H 'Content-Type: application/json' \
  -d '{
    "username": "john_doe",
    "password": "password123",
    "admin": false
  }'
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É  

curl -X POST http://localhost:8080/user/auth \
  -H 'Content-Type: application/json' \
  -d '{
    "username": "john_doe",
    "password": "password123"
  }'
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞  

TOKEN="<–≤–∞—à_—Ç–æ–∫–µ–Ω>"
curl -H "Authorization: Bearer $TOKEN" http://localhost:8080/bookings
–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–µ–ª—è (ADMIN)

curl -X POST http://localhost:8080/hotels \
  -H "Authorization: Bearer $TOKEN" \
  -H 'Content-Type: application/json' \
  -d '{
    "name": "Grand Hotel Moscow",
    "city": "Moscow",
    "address": "Red Square, 1"
  }'
–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ (ADMIN)  

curl -X POST http://localhost:8080/rooms \
  -H "Authorization: Bearer $TOKEN" \
  -H 'Content-Type: application/json' \
  -d '{
    "number": "101",
    "capacity": 2,
    "available": true,
    "hotel": {"id": 1}
  }'
–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä)  

curl -X POST http://localhost:8080/bookings \
  -H "Authorization: Bearer $TOKEN" \
  -H 'Content-Type: application/json' \
  -d '{
    "requestId": "req-001",
    "roomId": 1,
    "startDate": "2025-11-01",
    "endDate": "2025-11-05",
    "autoSelect": false
  }'
–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä)  

curl -X POST http://localhost:8080/bookings \
  -H "Authorization: Bearer $TOKEN" \
  -H 'Content-Type: application/json' \
  -d '{
    "requestId": "req-002",
    "startDate": "2025-11-01",
    "endDate": "2025-11-05",
    "autoSelect": true
  }'
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –Ω–∞–∏–º–µ–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä!  

**üîÑ –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**  
–î–≤—É—Ö—à–∞–≥–æ–≤–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (Saga Pattern)  
PENDING - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –≤ Booking Service  

Hold - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ –≤ Hotel Service  
Confirm - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏  
CONFIRMED - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ  
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏ —Å–±–æ—è—Ö  
–ü—Ä–∏ –æ—à–∏–±–∫–µ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:  
Release - –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏  
CANCELLED - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ  

–ú–µ—Ö–∞–Ω–∏–∑–º—ã –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏  
–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π requestId  
–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–∞—Ä–∫–∏—Ä—É—é—Ç—Å—è correlationId  

Retry: 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (300ms, 600ms, 1200ms)  

Timeout: 5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—Ä–æ—Å –∫ Hotel Service  

**üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**  
Booking Service  
users  
id (PK), username (UNIQUE), passwordHash, role
bookings  
id (PK), userId (FK), roomId, startDate, endDate, status, requestId (UNIQUE), correlationId, createdAt  
Hotel Service  
hotels  
id (PK), name, city, address  
rooms  
id (PK), hotel_id (FK), number, capacity, available, timesBooked  
room_reservation_locks  
id (PK), requestId (UNIQUE), roomId, startDate, endDate, status  

**üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**  
JWT —Ç–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è HMAC –∫–ª—é—á–æ–º  
–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: USER –∏ ADMIN  
HTTPS —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞  
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º  

**üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**  
Eureka Dashboard: http://localhost:8761  
Health Check: http://localhost:8080/actuator/health  
Metrics: http://localhost:8080/actuator/metrics  

**üêõ Troubleshooting**  
–°–µ—Ä–≤–∏—Å—ã –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ Eureka  
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Eureka Server –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–º  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 8761 –Ω–µ –∑–∞–Ω—è—Ç  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞  
JWT —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç—ë–∫ (1 —á–∞—Å)  
–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞  
–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–º–µ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω  
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ requestId —É–Ω–∏–∫–∞–ª–µ–Ω  

üë®üíª –°–æ–∑–¥–∞–Ω–æ –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
